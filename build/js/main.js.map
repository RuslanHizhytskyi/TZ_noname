{"version":3,"file":"main.js","sources":["../../src/js/modules/form.js","../../src/js/main.js"],"sourcesContent":["function formValidation(formSelector, errorActiveClass) {\r\n  const form = document.querySelector(formSelector),\r\n        errorMessage = {\r\n          name: 'Please contain 3 or more chars',\r\n          email: 'Example: name@email.domen',\r\n          country: 'Please choose country',\r\n          prefix: 'Only digits',\r\n          phone: 'Only digits, 7 or more chars'\r\n        };\r\n\r\n  function showError(elem, errorContainer, message) {\r\n    elem.setAttribute('data-valid', false)\r\n    elem.style.outline = '2px solid red';\r\n    elem.style.marginBottom = '17px';\r\n    errorContainer.textContent = message;\r\n    errorContainer.classList.add(errorActiveClass);\r\n  }\r\n\r\n  function hideError(elem, errorContainer) {\r\n    elem.setAttribute('data-valid', true)\r\n    elem.style.cssText = '';\r\n    errorContainer.classList.remove(errorActiveClass);\r\n  }\r\n  \r\n  function validation(el) {\r\n    const errorContainer = el.parentElement.querySelector('.form__errormessage');\r\n    if (el.name === 'name' || el.name == 'surname') {\r\n      // if (el.value.length < 3) {\r\n      //   showError(el, errorContainer, errorMessage.name)\r\n      // } else {\r\n      //   hideErroe(el, errorContainer);\r\n      // }\r\n      el.value.length < 3\r\n        ? showError(el, errorContainer, errorMessage.name)\r\n        : hideError(el, errorContainer);\r\n    }\r\n\r\n    if (el.name === 'email') {\r\n      // if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(el.value)) {\r\n      //   hideErroe(el, errorContainer);\r\n      // } else {\r\n      //   showError(el, errorContainer, errorMessage.email);\r\n      // }\r\n      el.value.match(\r\n        /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n        )\r\n          ? hideError(el, errorContainer)\r\n          : showError(el, errorContainer, errorMessage.email);\r\n      \r\n    }\r\n\r\n    if (el.name === 'country') {\r\n      // if (el.value === 'default') {\r\n      //   showError(el, errorContainer, errorMessage.country);\r\n      // } else {\r\n      //   hideErroe(el, errorContainer);\r\n      // }\r\n      el.value === \"default\"\r\n        ? showError(el, errorContainer, errorMessage.country)\r\n        : hideError(el, errorContainer);\r\n    }\r\n\r\n    if (el.name === 'prefix') {\r\n      // if (el.value.trim().split('').every(el => Number.isInteger(+el))) {\r\n      //   hideErroe(el, errorContainer);\r\n      // } else {\r\n      //   showError(el, errorContainer, errorMessage.prefix);\r\n      // }\r\n      el.value.trim().split(\"\").every((el) => Number.isInteger(+el))\r\n        ? hideError(el, errorContainer)\r\n        : showError(el, errorContainer, errorMessage.prefix);\r\n  \r\n    }\r\n\r\n    if (el.name === 'phone') {\r\n      // if (el.value.length > 6 && el.value.trim().split('').every(el => Number.isInteger(+el))) {\r\n      //   hideErroe(el, errorContainer);\r\n      // } else {\r\n      //   showError(el, errorContainer, errorMessage.phone);\r\n      // }\r\n      el.value.length > 6 && el.value.trim().split(\"\").every((el) => Number.isInteger(+el))\r\n        ? hideError(el, errorContainer)\r\n        : showError(el, errorContainer, errorMessage.phone);\r\n    }\r\n  }\r\n\r\n  form.addEventListener('submit', (evt) => {\r\n    evt.preventDefault();\r\n    const inputs = form.querySelectorAll('input, select');\r\n    let validArr = [];\r\n\r\n    \r\n    inputs.forEach((elem, i) => {\r\n      validation(elem);\r\n      elem.addEventListener('change', () => validation(elem));\r\n      validArr[i] = elem.getAttribute('data-valid');\r\n    });\r\n    if (validArr.every(el => el === 'true')) {\r\n      form.reset();\r\n      console.log('sending form to server');\r\n    } else {\r\n      console.log(\"form isn't valid\");\r\n    }\r\n  });\r\n}\r\n\r\nexport default formValidation;","import formValidation from './modules/form'\n\nformValidation('.form__form', 'form__errormessage_active');"],"names":["formValidation","formSelector","errorActiveClass","form","document","querySelector","errorMessage","name","email","country","prefix","phone","showError","elem","errorContainer","message","setAttribute","style","outline","marginBottom","textContent","classList","add","hideError","cssText","remove","validation","el","parentElement","value","length","match","trim","split","every","Number","isInteger","addEventListener","evt","preventDefault","inputs","querySelectorAll","validArr","forEach","i","getAttribute","reset","console","log"],"mappings":"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"}